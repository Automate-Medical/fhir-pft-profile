@prefix fhir: <http://hl7.org/fhir/> .
@prefix loinc: <http://loinc.org/rdf#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<https://automatemedical.com/fhir/pulmonary-function-test/Bundle/pft-bundle> a fhir:Bundle;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "pft-bundle"];
  fhir:Bundle.type [ fhir:value "collection"];
  fhir:Bundle.entry [
     fhir:index 0;
     fhir:Bundle.entry.resource [
       a fhir:Composition;
       fhir:Resource.id [ fhir:value "pft-composition" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>status</b>: preliminary</p><p><b>type</b>: <span title=\"Codes: {http://loinc.org 81458-2}\">Pulmonary function test panel</span></p><p><b>category</b>: <span title=\"Codes: {http://loinc.org 27896-0}\">Pulmonary studies (set)</span></p><p><b>encounter</b>: <a href=\"#Encounter_encounter-01\">See above (Encounter/encounter-01)</a></p><p><b>date</b>: 2017-02-20</p><p><b>author</b>: <a href=\"TODO_PLACEHOLDER\">TODO_PLACEHOLDER</a></p><p><b>title</b>: PFT: test panel Observations and DiagnosticReport</p><p><b>custodian</b>: <a href=\"#Organization_organization-01\">See above (Organization/organization-01)</a></p></div>"
       ];
       fhir:Composition.status [ fhir:value "preliminary" ];
       fhir:Composition.type [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:81458-2;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "81458-2" ];
           fhir:Coding.display [ fhir:value "Pulmonary function test panel" ]
         ]
       ];
       fhir:Composition.category [
         fhir:index 0;
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:27896-0;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "27896-0" ];
           fhir:Coding.display [ fhir:value "Pulmonary studies (set)" ]
         ]
       ];
       fhir:Composition.subject [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Patient/patient-01>;
         fhir:Reference.reference [ fhir:value "Patient/patient-01" ]
       ];
       fhir:Composition.encounter [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Encounter/encounter-01>;
         fhir:Reference.reference [ fhir:value "Encounter/encounter-01" ]
       ];
       fhir:Composition.date [ fhir:value "2017-02-20"^^xsd:date ];
       fhir:Composition.author [
         fhir:index 0;
         fhir:Reference.reference [ fhir:value "TODO_PLACEHOLDER" ]
       ];
       fhir:Composition.title [ fhir:value "PFT: test panel Observations and DiagnosticReport" ];
       fhir:Composition.custodian [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Organization/organization-01>;
         fhir:Reference.reference [ fhir:value "Organization/organization-01" ]
       ];
       fhir:Composition.section [
         fhir:index 0;
         fhir:Composition.section.title [ fhir:value "PFT Observations and Technician Comment" ];
         fhir:Composition.section.code [
           fhir:CodeableConcept.coding [
             fhir:index 0;
             a loinc:30954-2;
             fhir:Coding.system [ fhir:value "http://loinc.org" ];
             fhir:Coding.code [ fhir:value "30954-2" ];
             fhir:Coding.display [ fhir:value "Relevant diagnostic tests/laboratory data Narrative" ]
           ]
         ];
         fhir:Composition.section.text [
           fhir:Narrative.status [ fhir:value "additional" ];
           fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">TECHNICIAN COMMMENTS: No medications in past 24 hr. 400 mcg albuterol given for reversibility testing.</div>"
         ];
         fhir:Composition.section.entry [
           fhir:index 0;
           fhir:Reference.reference [ fhir:value "SpO2_RESTING" ]
         ];
         fhir:Composition.section.section [
           fhir:index 0;
           fhir:Composition.section.title [ fhir:value "Spirometry" ];
           fhir:Composition.section.code [
             fhir:CodeableConcept.coding [
               fhir:index 0;
               a loinc:81459-0;
               fhir:Coding.system [ fhir:value "http://loinc.org" ];
               fhir:Coding.code [ fhir:value "81459-0" ];
               fhir:Coding.display [ fhir:value "Spirometry panel" ]
             ], [
               fhir:index 1;
               a loinc:81458-2;
               fhir:Coding.system [ fhir:value "http://loinc.org" ];
               fhir:Coding.code [ fhir:value "81458-2" ];
               fhir:Coding.display [ fhir:value "Pulmonary function test panel" ]
             ]
           ];
           fhir:Composition.section.text [
             fhir:Narrative.status [ fhir:value "additional" ];
             fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Reference values: GLI 2012 Test quality: Pre: FEV1 - A, FVC - A; Post: FEV1 - A, FVC - B</div>"
           ];
           fhir:Composition.section.entry [
             fhir:index 0;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-PRE" ]
           ], [
             fhir:index 1;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE-Zscore>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-PRE-Zscore" ]
           ], [
             fhir:index 2;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE-percentPredicted>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-PRE-percentPredicted" ]
           ], [
             fhir:index 3;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-POST" ]
           ], [
             fhir:index 4;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST-Zscore>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-POST-Zscore" ]
           ], [
             fhir:index 5;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST-percentPredicted>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-POST-percentPredicted" ]
           ], [
             fhir:index 6;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST-mLChange>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-POST-mLChange" ]
           ], [
             fhir:index 7;
             fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-post-percentChange>;
             fhir:Reference.reference [ fhir:value "Observation/FVC-post-percentChange" ]
           ]
         ], [
           fhir:index 1;
           fhir:Composition.section.title [ fhir:value "Slow Vital Capacity (Pre-Bronchodilator)" ];
           fhir:Composition.section.code [
             fhir:CodeableConcept.coding [
               fhir:index 0;
               a loinc:81458-2;
               fhir:Coding.system [ fhir:value "http://loinc.org" ];
               fhir:Coding.code [ fhir:value "81458-2" ];
               fhir:Coding.display [ fhir:value "Pulmonary function test panel" ]
             ]
           ];
           fhir:Composition.section.text [
             fhir:Narrative.status [ fhir:value "additional" ];
             fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Reference values: VC - Gutierrez 2004; FEV1/VC - GLI 2012</div>"
           ]
         ], [
           fhir:index 2;
           fhir:Composition.section.title [ fhir:value "Multi-Breath Nitrogen Washout (Post-Bronchodilator)" ];
           fhir:Composition.section.code [
             fhir:CodeableConcept.coding [
               fhir:index 0;
               a loinc:81458-2;
               fhir:Coding.system [ fhir:value "http://loinc.org" ];
               fhir:Coding.code [ fhir:value "81458-2" ];
               fhir:Coding.display [ fhir:value "Pulmonary function test panel" ]
             ]
           ];
           fhir:Composition.section.text [
             fhir:Narrative.status [ fhir:value "additional" ];
             fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Reference values: Gutierrez 2004; Test quality: QA met</div>"
           ]
         ], [
           fhir:index 3;
           fhir:Composition.section.title [ fhir:value "Plethysmography (Post-Bronchodilator)" ];
           fhir:Composition.section.code [
             fhir:CodeableConcept.coding [
               fhir:index 0;
               fhir:Coding.system [ fhir:value "http://snomed.info/id" ];
               fhir:Coding.code [ fhir:value "20552003" ];
               fhir:Coding.display [ fhir:value "Plethysmography (procedure)" ]
             ]
           ];
           fhir:Composition.section.text [
             fhir:Narrative.status [ fhir:value "additional" ];
             fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Reference values: Gutierrez 2004; Test quality: QA met</div>"
           ]
         ], [
           fhir:index 4;
           fhir:Composition.section.title [ fhir:value "Diffusing Capacity (Post-Bronchodilator)" ];
           fhir:Composition.section.code [
             fhir:CodeableConcept.coding [
               fhir:index 0;
               a loinc:81458-2;
               fhir:Coding.system [ fhir:value "http://loinc.org" ];
               fhir:Coding.code [ fhir:value "81458-2" ];
               fhir:Coding.display [ fhir:value "Pulmonary function test panel" ]
             ]
           ];
           fhir:Composition.section.text [
             fhir:Narrative.status [ fhir:value "additional" ];
             fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Reference values: GLI 2017; Test quality: one grade A test; P_B: 721 mmHg</div>"
           ]
         ]
       ], [
         fhir:index 1;
         fhir:Composition.section.title [ fhir:value "Pulmonologist interpretation of PFT and diagnosis" ];
         fhir:Composition.section.code [
           fhir:CodeableConcept.coding [
             fhir:index 0;
             a loinc:59769-0;
             fhir:Coding.system [ fhir:value "http://loinc.org" ];
             fhir:Coding.code [ fhir:value "59769-0" ];
             fhir:Coding.display [ fhir:value "Postprocedure diagnosis Narrative" ]
           ]
         ];
         fhir:Composition.section.entry [
           fhir:index 0;
           fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/DiagnosticReport/diagnostic-report>;
           fhir:Reference.reference [ fhir:value "DiagnosticReport/diagnostic-report" ]
         ]
       ]
     ]
  ], [
     fhir:index 1;
     fhir:Bundle.entry.resource [
       a fhir:Patient;
       fhir:Resource.id [ fhir:value "patient-01" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">This resource is a stub for use in examples.</div>"
       ]
     ]
  ], [
     fhir:index 2;
     fhir:Bundle.entry.resource [
       a fhir:Practitioner;
       fhir:Resource.id [ fhir:value "practitioner-01" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">This resource is a stub for use in examples.</div>"
       ];
       fhir:Practitioner.name [
         fhir:index 0;
         fhir:HumanName.text [ fhir:value "Dr. P. Pulmonologist" ];
         fhir:HumanName.family [ fhir:value "Pulmonologist" ];
         fhir:HumanName.given [
           fhir:value "P.";
           fhir:index 0
         ];
         fhir:HumanName.prefix [
           fhir:value "Dr.";
           fhir:index 0
         ]
       ]
     ]
  ], [
     fhir:index 3;
     fhir:Bundle.entry.resource [
       a fhir:Practitioner;
       fhir:Resource.id [ fhir:value "practitioner-02" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">This resource is a stub for use in examples.</div>"
       ]
     ]
  ], [
     fhir:index 4;
     fhir:Bundle.entry.resource [
       a fhir:Organization;
       fhir:Resource.id [ fhir:value "organization-01" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">This resource is a stub for use in examples.</div>"
       ];
       fhir:Organization.type [
         fhir:index 0;
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://hl7.org/fhir/ValueSet/organization-type" ];
           fhir:Coding.version [ fhir:value "4.0.1" ];
           fhir:Coding.code [ fhir:value "prov" ];
           fhir:Coding.display [ fhir:value "Healthcare Provider" ]
         ]
       ];
       fhir:Organization.name [ fhir:value "Sample Pulmonary Function Laboratory" ];
       fhir:Organization.telecom [
         fhir:index 0;
         fhir:ContactPoint.system [ fhir:value "phone" ];
         fhir:ContactPoint.value [ fhir:value "p555-345-6789" ];
         fhir:ContactPoint.use [ fhir:value "work" ]
       ], [
         fhir:index 1;
         fhir:ContactPoint.system [ fhir:value "email" ];
         fhir:ContactPoint.value [ fhir:value "pftests@lunglab.com" ];
         fhir:ContactPoint.use [ fhir:value "work" ]
       ];
       fhir:Organization.address [
         fhir:index 0;
         fhir:Address.use [ fhir:value "work" ];
         fhir:Address.type [ fhir:value "both" ];
         fhir:Address.text [ fhir:value "Anytown, Anywhere" ];
         fhir:Address.city [ fhir:value "Anytown" ];
         fhir:Address.state [ fhir:value "Anywhere" ]
       ]
     ]
  ], [
     fhir:index 5;
     fhir:Bundle.entry.resource [
       a fhir:Encounter;
       fhir:Resource.id [ fhir:value "encounter-01" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">This resource is a stub for use in examples.</div>"
       ];
       fhir:Encounter.status [ fhir:value "finished" ];
       fhir:Encounter.class [
         fhir:Coding.code [ fhir:value "outpatient" ]
       ]
     ]
  ], [
     fhir:index 6;
     fhir:Bundle.entry.resource [
       a fhir:ServiceRequest;
       fhir:Resource.id [ fhir:value "serviceRequest-01" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">This resource is a stub for use in examples.</div>"
       ];
       fhir:ServiceRequest.status [ fhir:value "completed" ];
       fhir:ServiceRequest.intent [ fhir:value "order" ];
       fhir:ServiceRequest.category [
         fhir:index 0;
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://snomed.info/id" ];
           fhir:Coding.code [ fhir:value "108252007" ];
           fhir:Coding.display [ fhir:value "Laboratory procedure" ]
         ]
       ];
       fhir:ServiceRequest.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://snomed.info/id" ];
           fhir:Coding.code [ fhir:value "23426006" ];
           fhir:Coding.display [ fhir:value "Measurement of respiratory function (procedure)" ]
         ]
       ];
       fhir:ServiceRequest.subject [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Patient/patient-01>;
         fhir:Reference.reference [ fhir:value "Patient/patient-01" ]
       ];
       fhir:ServiceRequest.requester [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Practitioner/practitioner-03>;
         fhir:Reference.reference [ fhir:value "Practitioner/practitioner-03" ]
       ]
     ]
  ], [
     fhir:index 7;
     fhir:Bundle.entry.resource [
       a fhir:DiagnosticReport;
       fhir:Resource.id [ fhir:value "diagnostic-report" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>status</b>: final</p><p><b>category</b>: <span title=\"Codes: {http://terminology.hl7.org/CodeSystem/v2-0074 PF}\">Pulmonary Function</span></p><p><b>code</b>: <span title=\"Codes: {http://loinc.org 81458-2}\">Pulmonary function test panel</span></p><p><b>subject</b>: <a href=\"#Patient_patient-01\">See above (Patient/patient-01)</a></p><p><b>encounter</b>: <a href=\"#Encounter_encounter-01\">See above (Encounter/encounter-01)</a></p><p><b>effective</b>: 2017-02-24</p><p><b>performer</b>: </p><ul><li><a href=\"#Practitioner_practitioner-02\">See above (Practitioner/practitioner-02)</a></li><li><a href=\"#Organization_organization-01\">See above (Organization/organization-01)</a></li></ul><p><b>resultsInterpreter</b>: <a href=\"#Practitioner_practitioner-01\">See above (Practitioner/practitioner-01)</a></p><p><b>result</b>: </p><ul><li><a href=\"#Observation_FVC-PRE\">See above (Observation/FVC-PRE)</a></li><li><a href=\"#Observation_FVC-PRE-Zscore\">See above (Observation/FVC-PRE-Zscore)</a></li><li><a href=\"#Observation_FVC-PRE-percentPredicted\">See above (Observation/FVC-PRE-percentPredicted)</a></li><li><a href=\"#Observation_FVC-POST\">See above (Observation/FVC-POST)</a></li><li><a href=\"#Observation_FVC-POST-Zscore\">See above (Observation/FVC-POST-Zscore)</a></li><li><a href=\"#Observation_FVC-POST-percentPredicted\">See above (Observation/FVC-POST-percentPredicted)</a></li><li><a href=\"#Observation_FVC-POST-mLChange\">See above (Observation/FVC-POST-mLChange)</a></li><li><a href=\"#Observation_FVC-post-percentChange\">See above (Observation/FVC-post-percentChange)</a></li></ul><p><b>conclusion</b>: Moderately severe, partially reversible airflow obstruction.</p></div>"
       ];
       fhir:DiagnosticReport.status [ fhir:value "final" ];
       fhir:DiagnosticReport.category [
         fhir:index 0;
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://terminology.hl7.org/CodeSystem/v2-0074" ];
           fhir:Coding.code [ fhir:value "PF" ];
           fhir:Coding.display [ fhir:value "Pulmonary Function" ]
         ]
       ];
       fhir:DiagnosticReport.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:81458-2;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "81458-2" ];
           fhir:Coding.display [ fhir:value "Pulmonary function test panel" ]
         ]
       ];
       fhir:DiagnosticReport.subject [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Patient/patient-01>;
         fhir:Reference.reference [ fhir:value "Patient/patient-01" ]
       ];
       fhir:DiagnosticReport.encounter [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Encounter/encounter-01>;
         fhir:Reference.reference [ fhir:value "Encounter/encounter-01" ]
       ];
       fhir:DiagnosticReport.effectiveDateTime [ fhir:value "2017-02-24"^^xsd:date ];
       fhir:DiagnosticReport.performer [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Practitioner/practitioner-02>;
         fhir:Reference.reference [ fhir:value "Practitioner/practitioner-02" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Organization/organization-01>;
         fhir:Reference.reference [ fhir:value "Organization/organization-01" ]
       ];
       fhir:DiagnosticReport.resultsInterpreter [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Practitioner/practitioner-01>;
         fhir:Reference.reference [ fhir:value "Practitioner/practitioner-01" ]
       ];
       fhir:DiagnosticReport.result [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE-Zscore>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE-Zscore" ]
       ], [
         fhir:index 2;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE-percentPredicted>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE-percentPredicted" ]
       ], [
         fhir:index 3;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST" ]
       ], [
         fhir:index 4;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST-Zscore>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST-Zscore" ]
       ], [
         fhir:index 5;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST-percentPredicted>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST-percentPredicted" ]
       ], [
         fhir:index 6;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST-mLChange>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST-mLChange" ]
       ], [
         fhir:index 7;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-post-percentChange>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-post-percentChange" ]
       ];
       fhir:DiagnosticReport.conclusion [ fhir:value "Moderately severe, partially reversible airflow obstruction." ];
       fhir:DiagnosticReport.presentedForm [
         fhir:index 0;
         fhir:Attachment.contentType [ fhir:value "application/pdf" ];
         fhir:Attachment.language [ fhir:value "en-US" ];
         fhir:Attachment.url [ fhir:value "https://www.atsjournals.org/doi/10.1164/rccm.201710-1981ST" ];
         fhir:Attachment.title [ fhir:value "Sample Pulmonary Function Test" ]
       ]
     ]
  ], [
     fhir:index 8;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "SPO2-RESTING" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: {http://loinc.org 59417-6}\">Oxygen saturation in Arterial blood by Pulse oximetry --resting</span></p><p><b>value</b>: 99 %</p></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:59417-6;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "59417-6" ];
           fhir:Coding.display [ fhir:value "Oxygen saturation in Arterial blood by Pulse oximetry --resting" ]
         ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "99"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "%" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "%" ]
       ]
     ]
  ], [
     fhir:index 9;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-PRE" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "additional" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Test quality: A</div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.category [
         fhir:index 0;
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://terminology.hl7.org/CodeSystem/observation-category" ];
           fhir:Coding.version [ fhir:value "4.0.1" ];
           fhir:Coding.code [ fhir:value "procedure" ];
           fhir:Coding.display [ fhir:value "Procedure" ]
         ]
       ];
       fhir:Observation.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:19876-2;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "19876-2" ];
           fhir:Coding.display [ fhir:value "Forced vital capacity [Volume] Respiratory system by Spirometry --pre bronchodilation" ]
         ]
       ];
       fhir:Observation.subject [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Patient/patient-01>;
         fhir:Reference.reference [ fhir:value "Patient/patient-01" ]
       ];
       fhir:Observation.encounter [
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Encounter/encounter-01>;
         fhir:Reference.reference [ fhir:value "Encounter/encounter-01" ]
       ];
       fhir:Observation.effectiveDateTime [ fhir:value "2015-02-07T13:28:17-05:00"^^xsd:dateTime ];
       fhir:Observation.performer [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Practitioner/practitioner-02>;
         fhir:Reference.reference [ fhir:value "Practitioner/practitioner-02" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Organization/organization-01>;
         fhir:Reference.reference [ fhir:value "Organization/organization-01" ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "3.9"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "L" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "L" ]
       ];
       fhir:Observation.referenceRange [
         fhir:index 0;
         fhir:Observation.referenceRange.low [
           fhir:Quantity.value [ fhir:value "3.7"^^xsd:decimal ];
           fhir:Quantity.unit [ fhir:value "L" ];
           fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
           fhir:Quantity.code [ fhir:value "L" ]
         ];
         fhir:Observation.referenceRange.type [
           fhir:CodeableConcept.text [ fhir:value "FVC normal bounds" ]
         ]
       ]
     ]
  ], [
     fhir:index 10;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-PRE-Zscore" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: \">FVC_PRE Z-score</span></p><p><b>value</b>: -1.34 Z-score</p><p><b>derivedFrom</b>: </p><ul><li><a href=\"#Observation_FVC-PRE\">See above (Observation/FVC-PRE)</a></li><li><a href=\"Observation-FVC-PREREF-predicted.html\">Generated Summary: <span title=\"Codes: {http://loinc.org 19869-7}\">Forced vital capacity [Volume] Respiratory system Predicted</span>; Reference value, taken from GLI 2012. Depends on the patient's demographic info. (By Created for PFT example @2021-06-10)</a></li></ul></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.text [ fhir:value "FVC_PRE Z-score" ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "-1.34"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "Z-score" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "{Zscore}" ]
       ];
       fhir:Observation.derivedFrom [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PREREF-predicted>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PREREF-predicted" ]
       ]
     ]
  ], [
     fhir:index 11;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-PRE-percentPredicted" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: {http://loinc.org 19871-3}\">FVC pre bronchodilation measured/predicted</span></p><p><b>value</b>: 82 %</p><p><b>derivedFrom</b>: </p><ul><li><a href=\"#Observation_FVC-PRE\">See above (Observation/FVC-PRE)</a></li><li><a href=\"Observation-FVC-PREREF-predicted.html\">Generated Summary: <span title=\"Codes: {http://loinc.org 19869-7}\">Forced vital capacity [Volume] Respiratory system Predicted</span>; Reference value, taken from GLI 2012. Depends on the patient's demographic info. (By Created for PFT example @2021-06-10)</a></li></ul></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:19871-3;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "19871-3" ];
           fhir:Coding.display [ fhir:value "FVC pre bronchodilation measured/predicted" ]
         ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "82"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "%" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "%" ]
       ];
       fhir:Observation.derivedFrom [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PREREF-predicted>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PREREF-predicted" ]
       ]
     ]
  ], [
     fhir:index 12;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-POST" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: {http://loinc.org 19874-7}\">Forced vital capacity [Volume] Respiratory system by Spirometry --post bronchodilation</span></p><p><b>value</b>: 4.7 L</p><h3>ReferenceRanges</h3><table class=\"grid\"><tr><td>-</td><td><b>Low</b></td><td><b>Type</b></td></tr><tr><td>*</td><td>3.7 L</td><td><span title=\"Codes: \">FVC normal bounds</span></td></tr></table></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:19874-7;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "19874-7" ];
           fhir:Coding.display [ fhir:value "Forced vital capacity [Volume] Respiratory system by Spirometry --post bronchodilation" ]
         ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "4.7"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "L" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "L" ]
       ];
       fhir:Observation.referenceRange [
         fhir:index 0;
         fhir:Observation.referenceRange.low [
           fhir:Quantity.value [ fhir:value "3.7"^^xsd:decimal ];
           fhir:Quantity.unit [ fhir:value "L" ];
           fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
           fhir:Quantity.code [ fhir:value "L" ]
         ];
         fhir:Observation.referenceRange.type [
           fhir:CodeableConcept.text [ fhir:value "FVC normal bounds" ]
         ]
       ]
     ]
  ], [
     fhir:index 13;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-POST-Zscore" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: \">FVC_POST z-score</span></p><p><b>value</b>: -0.09 Z-score</p><p><b>derivedFrom</b>: <a href=\"#Observation_FVC-POST\">See above (Observation/FVC-POST)</a></p></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.text [ fhir:value "FVC_POST z-score" ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "-0.09"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "Z-score" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "{Zscore}" ]
       ];
       fhir:Observation.derivedFrom [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST" ]
       ]
     ]
  ], [
     fhir:index 14;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-POST-percentPredicted" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: {http://loinc.org 19873-9}\">FVC post bronchodilation measured/predicted</span></p><p><b>value</b>: 99 %</p><p><b>derivedFrom</b>: <a href=\"#Observation_FVC-POST\">See above (Observation/FVC-POST)</a></p></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:19873-9;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "19873-9" ];
           fhir:Coding.display [ fhir:value "FVC post bronchodilation measured/predicted" ]
         ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "99"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "%" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "%" ]
       ];
       fhir:Observation.derivedFrom [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST" ]
       ]
     ]
  ], [
     fhir:index 15;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-POST-mLChange" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: \">FVC POST change (mL)</span></p><p><b>value</b>: 600 mL</p><p><b>derivedFrom</b>: </p><ul><li><a href=\"#Observation_FVC-PRE\">See above (Observation/FVC-PRE)</a></li><li><a href=\"#Observation_FVC-POST\">See above (Observation/FVC-POST)</a></li></ul></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.text [ fhir:value "FVC POST change (mL)" ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "600"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "mL" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "mL" ]
       ];
       fhir:Observation.derivedFrom [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST" ]
       ]
     ]
  ], [
     fhir:index 16;
     fhir:Bundle.entry.resource [
       a fhir:Observation;
       fhir:Resource.id [ fhir:value "FVC-post-percentChange" ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: {http://loinc.org 69982-7}\">FVC percent change Respiratory system</span></p><p><b>value</b>: 20 %</p><p><b>derivedFrom</b>: </p><ul><li><a href=\"#Observation_FVC-PRE\">See above (Observation/FVC-PRE)</a></li><li><a href=\"#Observation_FVC-POST\">See above (Observation/FVC-POST)</a></li></ul></div>"
       ];
       fhir:Observation.status [ fhir:value "final" ];
       fhir:Observation.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a loinc:69982-7;
           fhir:Coding.system [ fhir:value "http://loinc.org" ];
           fhir:Coding.code [ fhir:value "69982-7" ];
           fhir:Coding.display [ fhir:value "FVC percent change Respiratory system" ]
         ]
       ];
       fhir:Observation.valueQuantity [
         fhir:Quantity.value [ fhir:value "20"^^xsd:decimal ];
         fhir:Quantity.unit [ fhir:value "%" ];
         fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
         fhir:Quantity.code [ fhir:value "%" ]
       ];
       fhir:Observation.derivedFrom [
         fhir:index 0;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-PRE>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-PRE" ]
       ], [
         fhir:index 1;
         fhir:link <https://automatemedical.com/fhir/pulmonary-function-test/Observation/FVC-POST>;
         fhir:Reference.reference [ fhir:value "Observation/FVC-POST" ]
       ]
     ]
  ] .

# - ontology header ------------------------------------------------------------

<https://automatemedical.com/fhir/pulmonary-function-test/Bundle/pft-bundle.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

